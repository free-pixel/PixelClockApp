
## 🚀 Pixel Clock V2 重构需求文档

### 一、 核心任务

将现有 V1 版本的线性堆叠 UI 彻底重构为 **macOS 原生 Popover 风格**，支持 Light（毛玻璃蓝）和 Dark（极简黑金）两套主题切换。

### 二、 视觉规范 (DSL 进阶版)

#### 1. 背景材质 (Backdrop)

* **Light Mode:** 必须使用 `.ultraThinMaterial`，配合 `Color.blue.opacity(0.05)` 的微弱晕染。
* **Dark Mode:** 必须使用 `.ultraThickMaterial`，底层叠加 `Color.black`，确保 obsidian（黑曜石）质感。

#### 2. 计时组件 (Timer Component)

* **字体:** 禁止使用默认字体。必须使用 **Monospaced Digit** (等宽数字) 并开启 **Rounded** 变体。
* **动效:** 时间跳动需使用 `.contentTransition(.numericText(countsDown: true))`，实现平滑滚动效果。
* **黑金特效:** 在 Dark 模式下，数字需添加 `Inner Glow`（内发光）和 `Outer Glow`（外发光），颜色码：`#D4AF37`。

#### 3. 控件重构 (Controls)

* **弃用 Slider:** 移除所有水平滑动条。
* **采用 Pill Tabs:** 使用胶囊形分段选择器 (Segmented Picker) 或并排的 `Button` 实现 25m/5m/15m 的快速切换。
* **主按钮:**
* **Light:** 蓝底白字，带系统默认悬浮高亮。
* **Dark:** 黑底金边，点击时有金色波纹反馈。



### 三、 交互逻辑规范

1. **自动聚焦:** 窗口弹出时，`Start` 按钮必须自动获得 `Focus`，支持用户直接按 **Enter** 开始计时。
2. **静默关闭:** 监听 `Cmd + W` 快捷键，执行 `orderOut` (隐藏窗口) 而非 `terminate` (关闭程序)。
3. **状态映射:** 菜单栏的圆圈进度图标（V1 已有功能）在 V2 中需与弹窗内的 Accent Color（蓝色/金色）保持实时颜色同步。

